# imcodeTeleBot

Реализация телеграмм-бота, который получает на вход строку/ключ-изображение и выдаёт по входу ключ-изображение/строку.

## Предисловие

Основная идея бота: получает текст на вход, генерирует случайное натуральное число, по нему кодирует картинку и подаёт её на выход. Также может получать картинку на вход и по ней выдавать хранимую в бд информацию.

Данный бот был создан с целью изучить синтаксис языка `python`. Идея хранения данных в файлах формата `.xlsx` лишь временное решение (в том числе, чтобы изучить модуль `pandas`). Предполагается использовать в будущем базы данных типа `mysql` или `sqlite`. Поэтому пока будем называть экселевский файл базой данных "специального типа".

## Папки

<pre>
1. ./ :
    * database                  папка, содержащая базу данных;
    * ExcelCreator              папка, содержащая шаблоны создания файлов базы данных;
    * messages                  папка, содержащая список сообщений бота;
    * imcode.py                 библиотека кодировки изображений и использования базы данных специального типа;
    * settings.txt              настройка кодирования изображений (ожидается, что переменные кодирования перенесутся из библиотеки imcode.py в этот файл);
    * tele-bot.py               реализация телеграмм-бота;

2. ./database:
    * buttons.xlsx              содержит информацию о нажатии кнопок в чате с ботом (временное решение);
    * database.xlsx             содержит полученную информацию в виде ключ-значение;
    * users.xlsx                содержит информацию о пользователях;

3. ./ExcelCreator:
    * buttons_creator.ipynb     создаёт бд специального типа для нажатия кнопок;
    * database_creator.ipynb    создаёт бд специального типа для хранения полученной информации;
    * users_creator.ipynb       создаёт бд специального типа для хранения информации о пользователях;
</pre>

## Теория

Схема кодировки довольно проста: достаточно рассмотреть две функции `imcode.number_to_list` и `imcode.number_to_image`. Первая получает на вход натуральное число и разбивает его на "разряды" согласно `shade_number`, определённому в `settings.txt` (в версии 1.0.0 `shade_number` определён как глобальная переменная в библиотеке `imcode`), занося "разряды" в список `based_list`. Далее вторая функция производит кодировку по принципу "плотности" `shade_number` (плотность заключается в величине `255 / shade_number`) -- см. принцип кодировки в реализации функции.

## Версии

==1.0.0== 
* все данные хранятся в экселевских файлах; 
* кодировка находится в основной библиотеке.
